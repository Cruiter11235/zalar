TODO: 为IDE制作状态机，应该用pinia
